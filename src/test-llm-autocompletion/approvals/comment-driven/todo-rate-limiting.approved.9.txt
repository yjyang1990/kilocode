function handleAPIRequest(req, res) {
  // Rate limiting configuration
  const MAX_REQUESTS = 100; // Maximum number of requests allowed
  const TIME_WINDOW = 60 * 1000; // Time window in milliseconds (1 minute)

  // Rate limiting implementation
  const now = Date.now();
  const windowStart = now - TIME_WINDOW;

  // Filter requests within the current time window
  const requestsInWindow = requestTimestamps.filter(timestamp => timestamp > windowStart);

  if (requestsInWindow.length >= MAX_REQUESTS) {
    // Too many requests, return 429 Too Many Requests
    res.status(429).send('Too many requests, please try again later.');
    return;
  }

  // Add current request timestamp
  requestTimestamps.push(now);

  // Process the request if rate limit is not exceeded
  processRequest(req, res);
}